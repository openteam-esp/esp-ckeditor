(function(){function c(h,g){var f;try{f=h.getSelection().getRanges()[0]}catch(i){return null}f.shrink(CKEDITOR.SHRINK_TEXT);return f.getCommonAncestor().getAscendant(g,1)}var b=function(e){return e.type==CKEDITOR.NODE_ELEMENT&&e.is("li")};var a={a:"lower-alpha",A:"upper-alpha",i:"lower-roman",I:"upper-roman","1":"decimal",disc:"disc",circle:"circle",square:"square"};function d(g,f){var h=g.lang.list;if(f=="bulletedListStyle"){return{title:h.bulletedTitle,minWidth:300,minHeight:50,contents:[{id:"info",accessKey:"I",elements:[{type:"select",label:h.type,id:"type",align:"center",style:"width:150px",items:[[h.notset,""],[h.circle,"circle"],[h.disc,"disc"],[h.square,"square"]],setup:function(i){var j=i.getStyle("list-style-type")||a[i.getAttribute("type")]||i.getAttribute("type")||"";this.setValue(j)},commit:function(i){var j=this.getValue();if(j){i.setStyle("list-style-type",j)}else{i.removeStyle("list-style-type")}}}]}],onShow:function(){var j=this.getParentEditor(),i=c(j,"ul");i&&this.setupContent(i)},onOk:function(){var j=this.getParentEditor(),i=c(j,"ul");i&&this.commitContent(i)}}}else{if(f=="numberedListStyle"){var e=[[h.notset,""],[h.lowerRoman,"lower-roman"],[h.upperRoman,"upper-roman"],[h.lowerAlpha,"lower-alpha"],[h.upperAlpha,"upper-alpha"],[h.decimal,"decimal"]];if(!CKEDITOR.env.ie||CKEDITOR.env.version>7){e.concat([[h.armenian,"armenian"],[h.decimalLeadingZero,"decimal-leading-zero"],[h.georgian,"georgian"],[h.lowerGreek,"lower-greek"]])}return{title:h.numberedTitle,minWidth:300,minHeight:50,contents:[{id:"info",accessKey:"I",elements:[{type:"hbox",widths:["25%","75%"],children:[{label:h.start,type:"text",id:"start",validate:CKEDITOR.dialog.validate.integer(h.validateStartNumber),setup:function(i){var j=i.getFirst(b).getAttribute("value")||i.getAttribute("start")||1;j&&this.setValue(j)},commit:function(j){var m=j.getFirst(b);var k=m.getAttribute("value")||j.getAttribute("start")||1;j.getFirst(b).removeAttribute("value");var n=parseInt(this.getValue(),10);if(isNaN(n)){j.removeAttribute("start")}else{j.setAttribute("start",n)}var i=m,o=k,l=isNaN(n)?1:n;while((i=i.getNext(b))&&o++){if(i.getAttribute("value")==o){i.setAttribute("value",l+o-k)}}}},{type:"select",label:h.type,id:"type",style:"width: 100%;",items:e,setup:function(i){var j=i.getStyle("list-style-type")||a[i.getAttribute("type")]||i.getAttribute("type")||"";this.setValue(j)},commit:function(i){var j=this.getValue();if(j){i.setStyle("list-style-type",j)}else{i.removeStyle("list-style-type")}}}]}]}],onShow:function(){var j=this.getParentEditor(),i=c(j,"ol");i&&this.setupContent(i)},onOk:function(){var j=this.getParentEditor(),i=c(j,"ol");i&&this.commitContent(i)}}}}}CKEDITOR.dialog.add("numberedListStyle",function(e){return d(e,"numberedListStyle")});CKEDITOR.dialog.add("bulletedListStyle",function(e){return d(e,"bulletedListStyle")})})();