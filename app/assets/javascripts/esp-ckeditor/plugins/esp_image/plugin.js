CKEDITOR.plugins.add("esp_image",{lang:["en","ru","uk"],init:function(a){var b="esp_image";CKEDITOR.dialog.add(b,this.path+"dialogs/esp_image.js");a.addCommand(b,new CKEDITOR.dialogCommand(b));a.ui.addButton("Esp_image",{label:a.lang.esp_image.image,command:b,icon:this.path+"images/esp_image.png"});a.on("doubleclick",function(c){var d=c.data.element;if(d.is("img")&&!d.data("cke-realelement")&&!d.isReadOnly()){c.data.dialog="esp_image"}});if(a.addMenuItems){a.addMenuItems({esp_image:{label:a.lang.esp_image.menu,command:"esp_image",group:"esp_image"}})}if(a.contextMenu){a.contextMenu.addListener(function(c,d){if(!c||!c.is("img")||c.data("cke-realelement")||c.isReadOnly()){return null}return{esp_image:CKEDITOR.TRISTATE_OFF}})}}});CKEDITOR.config.esp_image_removeLinkByEmptyURL=true;