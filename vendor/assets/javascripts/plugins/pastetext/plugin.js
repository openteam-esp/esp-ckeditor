(function(){var a={exec:function(c){var b=CKEDITOR.tools.tryThese(function(){var d=window.clipboardData.getData("Text");if(!d){throw 0}return d});if(!b){c.openDialog("pastetext");return false}else{c.fire("paste",{text:b})}return true}};CKEDITOR.plugins.add("pastetext",{init:function(c){var b="pastetext",d=c.addCommand(b,a);c.ui.addButton("PasteText",{label:c.lang.pasteText.button,command:b});CKEDITOR.dialog.add(b,CKEDITOR.getUrl(this.path+"dialogs/pastetext.js"));if(c.config.forcePasteAsPlainText){c.on("beforeCommandExec",function(e){var f=e.data.commandData;if(e.data.name=="paste"&&f!="html"){c.execCommand("pastetext");e.cancel()}},null,null,0);c.on("beforePaste",function(e){e.data.mode="text"})}c.on("pasteState",function(e){c.getCommand("pastetext").setState(e.data)})},requires:["clipboard"]})})();