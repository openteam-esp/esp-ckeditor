(function(){var e=CKEDITOR.htmlParser.cssStyle,c=CKEDITOR.tools.cssLength;var d=/^((?:\d*(?:\.\d+))|(?:\d+))(.*)?$/i;function a(i,g){var f=d.exec(i),h=d.exec(g);if(f){if(!f[2]&&h[2]=="px"){return h[1]}if(f[2]=="px"&&!h[2]){return h[1]+"px"}}return g}var b={elements:{$:function(j){var i=j.attributes,k=i&&i["data-cke-realelement"],h=k&&new CKEDITOR.htmlParser.fragment.fromHtml(decodeURIComponent(k)),g=h&&h.children[0];if(g&&j.attributes["data-cke-resizable"]){var n=new e(j).rules,l=g.attributes,f=n.width,m=n.height;f&&(l.width=a(l.width,f));m&&(l.height=a(l.height,m))}return g}}};CKEDITOR.plugins.add("fakeobjects",{requires:["htmlwriter"],afterInit:function(g){var f=g.dataProcessor,h=f&&f.htmlFilter;if(h){h.addRules(b)}}});CKEDITOR.editor.prototype.createFakeElement=function(i,l,o,g){var h=this.lang.fakeobjects,m=h[o]||h.unknown;var j={"class":l,src:CKEDITOR.getUrl("images/spacer.gif"),"data-cke-realelement":encodeURIComponent(i.getOuterHtml()),"data-cke-real-node-type":i.type,alt:m,title:m,align:i.getAttribute("align")||""};if(o){j["data-cke-real-element-type"]=o}if(g){j["data-cke-resizable"]=g;var k=new e();var f=i.getAttribute("width"),n=i.getAttribute("height");f&&(k.rules.width=c(f));n&&(k.rules.height=c(n));k.populate(j)}return this.document.createElement("img",{attributes:j})};CKEDITOR.editor.prototype.createFakeParserElement=function(i,o,r,g){var h=this.lang.fakeobjects,p=h[r]||h.unknown,l;var j=new CKEDITOR.htmlParser.basicWriter();i.writeHtml(j);l=j.getHtml();var k={"class":o,src:CKEDITOR.getUrl("images/spacer.gif"),"data-cke-realelement":encodeURIComponent(l),"data-cke-real-node-type":i.type,alt:p,title:p,align:i.attributes.align||""};if(r){k["data-cke-real-element-type"]=r}if(g){k["data-cke-resizable"]=g;var m=i.attributes,n=new e();var f=m.width,q=m.height;f!=undefined&&(n.rules.width=c(f));q!=undefined&&(n.rules.height=c(q));n.populate(k)}return new CKEDITOR.htmlParser.element("img",k)};CKEDITOR.editor.prototype.restoreRealElement=function(g){if(g.data("cke-real-node-type")!=CKEDITOR.NODE_ELEMENT){return null}var h=CKEDITOR.dom.element.createFromHtml(decodeURIComponent(g.data("cke-realelement")),this.document);if(g.data("cke-resizable")){var i=g.getStyle("width"),f=g.getStyle("height");i&&h.setAttribute("width",a(h.getAttribute("width"),i));f&&h.setAttribute("height",a(h.getAttribute("height"),f))}return h}})();